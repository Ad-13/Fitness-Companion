(()=>{"use strict";var e={7797:(e,t,n)=>{var r=n(2299),i=n(6665),o=n(5675),a=n(3593),l=n(3406),s=n(1479),d=n(3929),c=n(6283),u=n(8180),f=n(397);const h=o.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:16},title:{fontSize:28,fontWeight:"700",marginBottom:24}}),g=({navigation:e})=>(0,f.jsxs)(d.default,{style:h.container,children:[(0,f.jsx)(c.default,{style:h.title,children:"Fitness Companion"}),(0,f.jsx)(u.default,{title:"Search devices",onPress:()=>e.navigate("DeviceList")})]});var x=n(5648),m=n(2772),j=n(7905);var y=n(6725),p=n(1087),v=n(4515),S=n(2781);const b=o.default.create({container:{marginVertical:16,backgroundColor:"#fff",borderRadius:8,padding:8,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3}}),w=({data:e,width:t=y.default.get("window").width-32,height:n=300})=>{if(0===e.length)return null;const r=40,i=20,o=20,a=40,l=Math.max(...e),s=Math.min(...e),c=n-o-a,u=(t-r-i)/Math.max(1,e.length-1),h=e=>{const t=l-s;return o+c-(t>0?(e-s)/t:.5)*c},g=e=>r+e*u;let x=`M ${g(0)} ${h(e[0])}`;for(let d=1;d<e.length;d++)x+=` L ${g(d)} ${h(e[d])}`;const m=[];for(let d=0;d<=5;d++){const e=s+(l-s)/5*d,n=h(e);m.push((0,f.jsxs)(S.G,{children:[(0,f.jsx)(S.Line,{x1:r,y1:n,x2:t-i,y2:n,stroke:"#eee",strokeWidth:1,strokeDasharray:"4 4"}),(0,f.jsx)(S.Text,{x:r-10,y:n+4,fill:"#666",fontSize:"10",textAnchor:"end",children:Math.round(e)})]},`grid-y-${d}`))}const j=[],p=Math.ceil(e.length/5);for(let d=0;d<e.length;d+=p)j.push((0,f.jsxs)(S.Text,{x:g(d),y:n-a+15,fill:"#666",fontSize:"10",textAnchor:"middle",children:[d,"s"]},`label-x-${d}`));return(0,f.jsx)(d.default,{style:[b.container,{width:t,height:n}],children:(0,f.jsxs)(S.default,{width:t,height:n,children:[(0,f.jsxs)(S.G,{children:[(0,f.jsx)(S.Line,{x1:r,y1:o,x2:r,y2:n-a,stroke:"#333",strokeWidth:1}),(0,f.jsx)(S.Line,{x1:r,y1:n-a,x2:t-i,y2:n-a,stroke:"#333",strokeWidth:1}),m,j]}),(0,f.jsx)(S.Path,{d:x,fill:"none",stroke:"#e53935",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),e.map(((e,t)=>(0,f.jsxs)(S.G,{children:[(0,f.jsx)(S.Circle,{cx:g(t),cy:h(e),r:4,fill:"#e53935"}),(0,f.jsx)(S.Text,{x:g(t),y:h(e)-10,fill:"#e53935",fontSize:"10",textAnchor:"middle",children:e})]},`point-${t}`)))]})})},C=o.default.create({toggleChartButton:{backgroundColor:"#4CAF50",paddingVertical:10,paddingHorizontal:20,borderRadius:8,marginBottom:16,alignSelf:"center"},chartTitle:{fontSize:16,fontWeight:"600",color:"#333",marginBottom:8,alignSelf:"flex-start",marginLeft:16},toggleChartText:{color:"#fff",fontSize:16,fontWeight:"600"},chart:{overflow:"hidden",width:"100%",height:300}}),k=({pulse:e})=>{const[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),a=t.map((e=>({value:e,label:`${e} BPM`})));return(0,i.useEffect)((()=>{n((t=>{if(t.length>0&&t[t.length-1]===e)return t;const n=[...t,e].slice(-20);return p.default.setItem("pulseHistory",JSON.stringify(n)),n}))}),[e]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.default,{style:C.toggleChartButton,onPress:()=>o(!r),children:(0,f.jsx)(c.default,{style:C.toggleChartText,children:r?"Show Library Chart":"Show Custom Chart"})}),t.length>0&&(0,f.jsx)(f.Fragment,{children:r?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.default,{style:C.chartTitle,children:"Custom Pulse Chart"}),(0,f.jsx)(w,{data:t,width:y.default.get("window").width-32,height:300})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.default,{style:C.chartTitle,children:"Library Pulse Chart"}),(0,f.jsx)(d.default,{style:C.chart,children:(0,f.jsx)(v.LineChart,{data:a,scrollToEnd:!0,scrollAnimation:!0})})]})})]})};var T=n(8119);const B=({pulse:e})=>{const t=(0,i.useRef)(new T.default.Value(1)).current;return(0,i.useEffect)((()=>{T.default.sequence([T.default.timing(t,{toValue:1.2,duration:200,useNativeDriver:!0}),T.default.timing(t,{toValue:1,duration:300,useNativeDriver:!0})]).start()}),[e]),(0,f.jsx)(T.default.View,{style:{transform:[{scale:t}]},children:(0,f.jsx)(j.default,{name:"heart-pulse",size:48,color:"#e53935"})})},z=o.default.create({container:{flexGrow:1,backgroundColor:"#fff",justifyContent:"center",alignItems:"center",padding:16},title:{fontSize:28,fontWeight:"700",marginBottom:16},pulse:{fontSize:48,fontWeight:"800",color:"#e53935",marginBottom:16},pulseContainer:{flexDirection:"row",alignItems:"center",gap:8},hint:{fontSize:16,color:"#555",marginBottom:32},backButton:{backgroundColor:"#2196f3",paddingVertical:12,paddingHorizontal:24,borderRadius:8,marginBottom:32,flexDirection:"row"},icon:{marginRight:8},backButtonText:{color:"#fff",fontSize:16,fontWeight:"600"}}),O=({navigation:e})=>{const{pulse:t}=function(){const[e,t]=(0,i.useState)(72);return(0,i.useEffect)((()=>{const e=setInterval((()=>{t((e=>Math.max(60,Math.min(120,e+Math.round(4*Math.random()-2)))))}),1e3);return()=>{clearInterval(e)}}),[]),{pulse:e}}();return(0,f.jsxs)(m.default,{contentContainerStyle:z.container,children:[(0,f.jsx)(c.default,{style:z.title,children:"Your pulse"}),(0,f.jsxs)(d.default,{style:z.pulseContainer,children:[(0,f.jsx)(B,{pulse:t}),(0,f.jsxs)(c.default,{style:z.pulse,children:[t," BPM"]})]}),(0,f.jsx)(c.default,{style:z.hint,children:'Press "Back" for return'}),(0,f.jsxs)(x.default,{style:z.backButton,onPress:()=>e.goBack(),children:[(0,f.jsx)(j.default,{name:"arrow-left",size:24,color:"#fff",style:z.icon}),(0,f.jsx)(c.default,{style:z.backButtonText,children:"Back"})]}),(0,f.jsx)(k,{pulse:t})]})};var P=n(932),M=n(530);const W=o.default.create({container:{flex:1,padding:16,backgroundColor:"#fff"},title:{fontSize:24,marginBottom:16,fontWeight:"600"},centered:{justifyContent:"center",alignItems:"center"},loadingText:{marginTop:16},deviceItem:{padding:16,borderBottomWidth:1,borderBottomColor:"#eee"},deviceName:{fontSize:16,fontWeight:"500"},deviceId:{fontSize:12,color:"#666",marginTop:4},emptyText:{textAlign:"center",marginTop:20,color:"#888"}}),L=({navigation:e})=>{const{devices:t,isConnecting:n}=function(){const[e,t]=(0,i.useState)(!0),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{const e=setTimeout((()=>{r([{id:"dev-1",name:"Pulse Sensor A"},{id:"dev-2",name:"Pulse Sensor B"}]),t(!1)}),2e3);return()=>{clearTimeout(e)}}),[]),{isConnecting:e,devices:n}}();return n?(0,f.jsxs)(d.default,{style:[W.container,W.centered],children:[(0,f.jsx)(M.default,{size:"large"}),(0,f.jsx)(c.default,{style:W.loadingText,children:"Search for devices..."})]}):(0,f.jsxs)(d.default,{style:W.container,children:[(0,f.jsx)(c.default,{style:W.title,children:"Available devices"}),(0,f.jsx)(P.default,{data:t,keyExtractor:e=>e.id,renderItem:({item:t})=>(0,f.jsxs)(x.default,{style:W.deviceItem,onPress:()=>e.navigate("Sensor"),children:[(0,f.jsx)(c.default,{style:W.deviceName,children:t.name||"Unknown Device"}),(0,f.jsx)(c.default,{style:W.deviceId,children:t.id})]}),ListEmptyComponent:(0,f.jsx)(c.default,{style:W.emptyText,children:"Devices not found..."})})]})},I=(0,s.createStackNavigator)(),D=()=>(0,f.jsx)(l.NavigationContainer,{children:(0,f.jsxs)(I.Navigator,{id:void 0,initialRouteName:"Home",screenOptions:{headerStyle:{backgroundColor:"#f5f5f5"},headerTintColor:"#333",headerTitleStyle:{fontWeight:"600"}},children:[(0,f.jsx)(I.Screen,{name:"Home",component:g,options:{title:"Home"}}),(0,f.jsx)(I.Screen,{name:"DeviceList",component:L,options:{title:"Available Devices"}}),(0,f.jsx)(I.Screen,{name:"Sensor",component:O,options:{title:"Sensor"}})]})});const A=o.default.create({container:{flex:1}});(0,r.default)((function(){return(0,f.jsx)(a.GestureHandlerRootView,{style:A.container,children:(0,f.jsx)(D,{})})}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,i,o)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,i,o]=e[c],l=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[a,l,s]=r,d=0;if(a.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var c=s(n)}for(t&&t(r);d<a.length;d++)o=a[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[669],(()=>n(7797)));r=n.O(r)})();
//# sourceMappingURL=main.ae40ac8e.js.map